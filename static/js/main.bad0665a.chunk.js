(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(t,e,n){t.exports=n(22)},18:function(t,e,n){},20:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),s=n(9),o=n(2),c=n(0),u=n.n(c),i=n(5),l=n.n(i),p=(n(18),n(6)),d=n(7),b=n(10),f=n(8),m=n(11),w=(n(20),n(3)),y=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(b.a)(this,Object(f.a)(e).call(this,t))).refreshBalance=Object(o.a)(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=window.tronWeb,t.t0=n.state.address,!t.t0){t.next=9;break}return t.t1=n,t.next=6,e.trx.getBalance(n.address);case 6:t.t2=t.sent,t.t3={balance:t.t2},t.t1.setState.call(t.t1,t.t3);case 9:case"end":return t.stop()}},t)})),n.gettoken=Object(o.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:window.tronWeb,n.state.address&&n.contract.getToken().send().then(function(t){console.group('Contract "call" result'),console.log("- Output:",t,"\n"),n.setState({tokenBalance:t.toString()}),console.groupEnd()});case 2:case"end":return t.stop()}},t)})),window.tronWeb.setDefaultBlock("latest"),n.contract=null,n.state={address:null,balance:null,contract:null,tokenBalance:null},n}return Object(m.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){var t=Object(o.a)(r.a.mark(function t(){var e,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=window.tronWeb,this.setState({address:e.defaultAddress.base58}),n=e.address.fromHex(w.b["*"].address),console.log(w.a,w.b["*"].address,n),this.contract=e.contract(w.a,n),console.log(this.contract),t.next=8,this.refreshBalance();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return u.a.createElement("div",{className:"App"},u.a.createElement("div",null,u.a.createElement("p",null,"current address"),u.a.createElement("p",null,this.state.address),u.a.createElement("hr",null)),u.a.createElement("p",null,"current trx balance"),u.a.createElement("p",null,this.state.balance/1e6),u.a.createElement("button",{onClick:this.refreshBalance},"Refresh balance"),u.a.createElement("hr",null),u.a.createElement("div",null),u.a.createElement("p",null,"get token"),u.a.createElement("button",{onClick:this.gettoken},"\u8585"),u.a.createElement("hr",null))}}]),e}(c.Component),h=function(){var t=Object(o.a)(r.a.mark(function t(){var e,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.tronWeb){t.next=9;break}return e=window.tronWeb,t.next=4,e.isConnected();case 4:n=t.sent,!Object.entries(n).map(function(t){var e=Object(s.a)(t,2),n=e[0],a=e[1];return a||console.error("Error: ".concat(n," is not connected")),a}).includes(!1)?l.a.render(u.a.createElement(y,null),document.getElementById("root")):(console.error("Error: TRON node is not connected"),console.error("wait for tronLink"),setTimeout(Object(o.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:case"end":return t.stop()}},t)})),100)),t.next=11;break;case 9:console.error("wait for tronLink"),setTimeout(Object(o.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:case"end":return t.stop()}},t)})),100);case 11:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();h().then()},3:function(t){t.exports={a:[{constant:!1,inputs:[{name:"_starttime",type:"uint256"}],name:"setStarttime",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"getToken",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_tokenAddress",type:"address"}],name:"setERC20Address",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"withdrawAmount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isOwner",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"devWithdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"devWithdrawAmount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"}],b:{"*":{events:{},links:{},address:"41D57888443CEA23F3838ED91368E269CFA091023B"}}}}},[[12,2,1]]]);
//# sourceMappingURL=main.bad0665a.chunk.js.map