(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(22)},18:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(9),o=n(2),c=n(0),u=n.n(c),i=n(5),l=n.n(i),p=(n(18),n(6)),d=n(7),b=n(10),f=n(8),m=n(11),w=(n(20),n(3)),y=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(b.a)(this,Object(f.a)(t).call(this,e))).refreshBalance=Object(o.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.tronWeb,e.t0=n.state.address,!e.t0){e.next=9;break}return e.t1=n,e.next=6,t.trx.getBalance(n.address);case 6:e.t2=e.sent,e.t3={balance:e.t2},e.t1.setState.call(e.t1,e.t3);case 9:case"end":return e.stop()}},e)})),n.gettoken=Object(o.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.tronWeb,n.state.address&&n.contract.getToken().send().then(function(e){console.group('Contract "call" result'),console.log("- Output:",e,"\n"),n.setState({tokenBalance:e.toString()}),console.groupEnd()});case 2:case"end":return e.stop()}},e)})),window.tronWeb.setDefaultBlock("latest"),n.contract=null,n.state={address:null,balance:null,contract:null,tokenBalance:null},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(r.a.mark(function e(){var t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.tronWeb,this.setState({address:t.defaultAddress.base58}),n=t.address.fromHex(w.b["*"].address),console.log(w.a,w.b["*"].address,n),this.contract=t.contract(w.a,n),console.log(this.contract),e.next=8,this.refreshBalance();case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return u.a.createElement("div",{className:"App"},u.a.createElement("h1",null,"14\u70b9\u5f00\u59cb\uff01\u63d0\u524d\u8fdb\u53bb\u4f1a\u88ab\u9000\u94b1"),u.a.createElement("div",null,u.a.createElement("p",null,"current address"),u.a.createElement("p",null,this.state.address),u.a.createElement("hr",null)),u.a.createElement("p",null,"current trx balance"),u.a.createElement("p",null,this.state.balance/1e6),u.a.createElement("button",{onClick:this.refreshBalance},"Refresh balance"),u.a.createElement("hr",null),u.a.createElement("div",null),u.a.createElement("p",null,"get token"),u.a.createElement("button",{onClick:this.gettoken},"\u8585"),u.a.createElement("hr",null))}}]),t}(c.Component),h=function(){var e=Object(o.a)(r.a.mark(function e(){var t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.tronWeb){e.next=9;break}return t=window.tronWeb,e.next=4,t.isConnected();case 4:n=e.sent,!Object.entries(n).map(function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];return a||console.error("Error: ".concat(n," is not connected")),a}).includes(!1)?l.a.render(u.a.createElement(y,null),document.getElementById("root")):(console.error("Error: TRON node is not connected"),console.error("wait for tronLink"),setTimeout(Object(o.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:case"end":return e.stop()}},e)})),100)),e.next=11;break;case 9:console.error("wait for tronLink"),setTimeout(Object(o.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:case"end":return e.stop()}},e)})),100);case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();h().then()},3:function(e){e.exports={a:[{constant:!1,inputs:[{name:"_starttime",type:"uint256"}],name:"setStarttime",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"getToken",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_tokenAddress",type:"address"}],name:"setERC20Address",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"withdrawAmount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isOwner",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"devWithdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"devWithdrawAmount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"}],b:{"*":{events:{},links:{},address:"41D57888443CEA23F3838ED91368E269CFA091023B"}}}}},[[12,2,1]]]);
//# sourceMappingURL=main.b6355154.chunk.js.map